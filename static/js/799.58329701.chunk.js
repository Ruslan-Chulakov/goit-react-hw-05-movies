"use strict";(self.webpackChunkreact_homework_05_movies=self.webpackChunkreact_homework_05_movies||[]).push([[799],{799:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var n=r(439),a=r(791),c=r(87),i=r(689),o=r(861),s=r(757),u=r.n(s),h=r(243);function f(){return(f=(0,o.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"//api.themoviedb.org/3/search/movie","?api_key=4278d0f19129b6ab2e3afba6e510ceec",e.next=4,h.Z.get("".concat("//api.themoviedb.org/3/search/movie").concat("?api_key=4278d0f19129b6ab2e3afba6e510ceec","&query=").concat(t)).then((function(e){if(200!==e.status)throw new Error(e);return e.data})).catch((function(e){console.error(e)}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e){return f.apply(this,arguments)},p=r(184),m=function(){var e=(0,a.useState)(""),t=(0,n.Z)(e,2),r=t[0],o=t[1],s=(0,a.useState)([]),u=(0,n.Z)(s,2),h=u[0],f=u[1],m=(0,c.lr)(),d=(0,n.Z)(m,2),v=d[0],b=d[1],x=v.get("movieName"),g=(0,i.TH)();(0,a.useEffect)((function(){x&&l(x.trim()).then((function(e){return f(e.results)}))}),[x]);return(0,p.jsxs)("main",{children:[(0,p.jsx)("h1",{children:"Movies page"}),(0,p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r&&(b({movieName:r.trim()}),l(x).then((function(e){return f(e.results)})),o(""))},children:[(0,p.jsxs)("label",{children:["search",(0,p.jsx)("input",{type:"text",value:r,onChange:function(e){var t=e.target.value;o(t)}})]}),(0,p.jsx)("button",{children:"Find Movie"})]}),(0,p.jsx)("ul",{children:0!==h.length?h.map((function(e){var t=e.id,r=e.title,n=e.poster_path;return(0,p.jsx)(c.rU,{to:"".concat(t),state:{from:g},children:(0,p.jsxs)("li",{children:[n&&(0,p.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(n),alt:""}),r]})},t)})):(0,p.jsx)("p",{children:"No results"})})]})}}}]);
//# sourceMappingURL=799.58329701.chunk.js.map